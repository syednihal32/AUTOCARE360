<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nearby Mechanics</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>AUTOCARE360</h1>
      <nav>
        <a href="index.html">Home</a>
        <a href="mechanics.html">Mechanic Finder</a>
        <a href="parts.html">Parts</a>
        <a href="diy.html">DIY Tutorials</a>
        <a href="used.html">Used Vehicles</a>
        <a href="documents.html">Documents</a>
      </nav>
    </header>
  
    <script src="script.js"></script>
  </body>

  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mechanic Finder</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      #map {
        height: 500px;
        width: 100%;
        margin-top: 20px;
        border: 2px solid red;
      }
      .page-title {
        text-align: center;
        margin-top: 20px;
      }
    </style>
  </head>
  <body>
    <h1 style="color: red;" class="page-title">Nearby Mechanic Finder</h1>
    <div style="text-align:center;">
      <button onclick="findMechanics()">Find Mechanics Near Me</button>
    </div>
    <div id="map"></div>
  
    <div style="margin: 20px auto; max-width: 800px; text-align: center;">
      <h3>Filter Mechanics</h3>
      <label for="minRating">Minimum Rating:</label>
      <select id="minRating">
        <option value="0">Any</option>
        <option value="3">3+</option>
        <option value="4">4+</option>
        <option value="4.5">4.5+</option>
      </select>
  
      <label for="radius">Distance (km):</label>
      <select id="radius">
        <option value="2">2</option>
        <option value="5" selected>5</option>
        <option value="10">10</option>
      </select>
  
      <button onclick="findMechanics()">Apply Filter</button>
    </div>
  
    <script>
      let map;
      function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
          center: { lat: 12.9716, lng: 77.5946 }, // Bangalore
          zoom: 13,
        });
      }
  
      function findMechanics() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition((position) => {
            const userLocation = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };
            map.setCenter(userLocation);
            new google.maps.Marker({ position: userLocation, map: map });
  
            const service = new google.maps.places.PlacesService(map);
            const request = {
              location: userLocation,
              radius: document.getElementById("radius").value * 1000,
              type: ['car_repair']
            };
            service.nearbySearch(request, (results, status) => {
              if (status !== google.maps.places.PlacesServiceStatus.OK || !results.length) {
                alert("No nearby mechanics found.");
                return;
              }
              for (let i = 0; i < results.length; i++) {
                new google.maps.Marker({
                  map: map,
                  position: results[i].geometry.location,
                  title: results[i].name
                });
              }
            });
          });
        } else {
          alert("Geolocation not supported by your browser.");
        }
      }
    </script>
  
    
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBEG0EF0awwrZlObbFJoFqPmQUfCrBrXVk&libraries=places&callback=initMap">
    </script>
  </body>
  </html>
  